'''
Текстовый файл состоит из цифр от 1 до 9, знаков операций «+», «–» и «*» 
(сложение, вычитание и умножение) и заглавных латинских букв A, B, C, D.

Назовём правильной суммой строку, содержащую последовательность из одного или более десятичных чисел, 
в которой между соседними числами стоит ровно один знак «+» и нет других знаков.

Примеры правильных сумм: «23», «115+6», «1980+12+12351».

Назовём результатом правильной суммы число, которое получится при выполнении записанных 
в соответствующей строке сложений. Например, результат правильной суммы «2+3»— число 5.

Найдите в данной строке правильную сумму, расположенную непосредственно после буквы D и
имеющую наибольший результат.

В ответе запишите результат найденной суммы. 
'''

from re import findall

s = open("24-actual/24 (22).txt").read()

num = r'[1-9]+'
# pattern = rf'D({num}(?:\+{num})*)'
pattern = f'D({num}(?:[+]{num})*)'

matches = findall(pattern, s)

results = [eval(m) for m in matches]
print(max(results))

# Объяснение паттерна:
# D - буква D
# ({num}(?:\+{num})*) - захватываемая группа с правильной суммой:
#   {num} - первое число (одна или более цифр 1-9)
#   (?:\+{num})* - повторение: знак + и число
# Итого: D123+456+789 -> захватит "123+456+789"
