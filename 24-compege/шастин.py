'''
Задание 24 (№24079).(Л. Шастин)

Текстовый файл 24-compege\24_24079.txt состоит из десятичных цифр и заглавных букв латинского алфавита. 
Определите в прилагаемом файле минимальное количество идущих подряд символов, среди которых подстрока вида В#А1А#В встречается ровно 1 раз,
где под # подразумевается любая непрерывная (непустая) подпоследовательность символов, отличных от А, I и В.

В ответе запишите число – количество символов в найденной последовательности.
сделай регулярку для
В#А1А#В где под # подразумевается любая непрерывная (непустая) подпоследовательность символов, отличных от А, I и В

'''

import re

s = open('24-compege/24_24079.txt').read()

# Паттерн: B + (не A,I,B)+ + A1A + (не A,I,B)+ + B
pattern = r'B[^AIB]+A1A[^AIB]+B'

matches = []
for m in re.finditer(pattern, s):
    matches.append((m.start(), m.end(), m.group()))

# Ищем минимальную подстроку с ровно одним вхождением
mini = float('inf')
for i in range(len(s)):
    for j in range(i + 1, len(s) + 1):
        substr = s[i:j]
        count = len(re.findall(pattern, substr))
        if count == 1:
            mini = min(mini, j - i)
            break

print(mini)
